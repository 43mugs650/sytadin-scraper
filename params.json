{"name":"Sytadin-scraper","tagline":"sytadin traffic info scraper written in perl","body":"sytadin-scraper\r\n===============\r\n\r\nwww.sytadin.fr traffic info scraper written in perl.\r\n\r\nLicense\r\n-------\r\n\r\nsytadin-scraper is released under MIT.\r\n\r\nDependancies\r\n------------\r\n\r\n* WWW::Mechanize\r\n* Getopt::Long\r\n\r\nCommand line\r\n------------\r\n\r\n```bash\r\n> sytadin-scraper -h\r\nusage: \r\n* to search nodes:\r\n   sytadin-scraper [-h] -S '<node name>'\r\n* to query sytadin:\r\n   sytadin-scraper -s '<start node>' -e '<end node>' [-v '<inter node>'] [-l]\r\n\r\nCommand line utility to query www.sytadin.fr\r\n\r\narguments:\r\n    -h, --help              : display this help\r\n    -l, --light             : light output \r\n           (format '<traject>|<reliability>' (optional)\r\n    -S, --search <node name>: search the nodes\r\n           matching '.*<node name>.*' \r\n           in available nodes (case insensitive)\r\n    -s, --start <start node>: node where we start \r\n    -e, --end <end node>    : node where we end\r\n    -v, --via <inter node>  : intermediate node (optional)\r\n\r\n> sytadin-scraper -S clamart\r\nList of matching nodes:\r\n* 'Le Petit Clamart (N118xA86)'\r\n\r\n> ./bin/sytadin-scraper -s 'Plaisance' \\\r\n    -e 'Evry (A6xN104)' -v 'Janvry (A10xN104)'  \r\nPlaisance to Evry (A6xN104) via Janvry (A10xN104): 35mn (44%)\r\n```\r\n\r\nLibrary\r\n-------\r\n\r\n```perl\r\nuse SYTADIN::Query;\r\n\r\n\r\n# search nodes (case insensitive)\r\nprint \"List of matching nodes:\\n\";\r\nforeach (SYTADIN::Query::search_node('achères')){\r\n print \"* '$_'\\n\";\r\n};\r\nprint \"\\n\";\r\n\r\nmy $start = 'Le Petit Clamart (N118xA86)';\r\nmy $end   = 'Corbeil (A6xN104)';\r\nmy $via   = 'Janvry (A10xN104)';\r\n\r\n# get the result page of sytadin (raw html)\r\nmy $page = SYTADIN::Query::query_sytadin($start, $end, $via);\r\n\r\n# basic parsing of the html page \r\n# to get the traject_time and the reliability\r\nmy %info = SYTADIN::Query::scan_result_page($page);\r\n\r\nprint \"traject: '$start' to '$end' via '$via':\\n\";\r\nprint \"* traject time: $info{'traject_time'}\\n\";\r\nprint \"* reliability: $info{'reliability'}%\\n\";\r\nprint \"\\n\";\r\n\r\n# another search\r\nmy $start = 'Achères (N184xD30)';\r\nmy $end   = 'Corbeil (A6xN104)';\r\nmy $via   = 'Janvry (A10xN104)';\r\n\r\n# direct access to the data (same as query_sytadin + scan_result_page)\r\nmy %info2 = SYTADIN::Query::get_time_reliability($start, $end, $via);\r\n\r\nprint \"traject: '$start' to '$end' via '$via':\\n\";\r\nprint \"* traject time: $info2{'traject_time'}\\n\";\r\nprint \"* reliability: $info2{'reliability'}%\\n\";\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}